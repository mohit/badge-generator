# Product Review: badges.firmament.works Implementation

**Date**: 2026-02-25 (third pass — post-fix verification)
**Reviewer**: Claude Opus 4.6
**Scope**: Copy, design, user flows, product quality — not a code review

---

## Overall Assessment

The engineer addressed 14 of 16 flagged issues. XSS is fixed, the H1 renders properly, the challenge page now shows the full verification ladder, nav is consistent, quickstart sequences match, footers are clean, persona cards are back, copy headers are de-jargoned, the API differentiation section is restored, and cards have hover lift. Good work.

A few new issues surfaced from the fixes — two section-rhythm problems and minor footer inconsistencies. One pre-existing issue (design token migration) is partially done. These are all polish-tier.

---

## Remaining Issues

### 1. Homepage has two consecutive `section-muted` sections

The "Who this serves" section (index.html line 168) and the "Step 0 / challenge-grid" section (line 195) both have `class="section section-muted"`. This is the same visual-merging issue that was fixed on the vision page — two muted sections in a row lose their visual separation.

**Fix**: Remove `section-muted` from one of them (the "Step 0" section at line 195 is the natural candidate since it already uses the gradient `demo-card`).

### 2. Vision page overcorrected to three consecutive unstyled sections

The double-muted fix on vision.html removed `section-muted` from "How issuer identity works" (line 95). But now lines 95, 115, and 135 are all `class="section"` with no muted variant, creating three consecutive plain sections after a single muted one. The alternating rhythm is lost in the opposite direction.

**Fix**: Add `section-muted` to the "Now, next, later" section (line 115) to restore alternation: muted → plain → muted → plain.

### 3. Design tokens partially migrated

Core components (`.kicker`, `.signal-key`, `.form-help`, `.proof-chips`, trust-badge, issuer-block, caveat-banner) now use tokens. But ~20+ hardcoded `font-size` values remain in selectors like `.card h3` (`1.05rem` = `--text-md`), `.card p` (`0.84rem` = `--text-sm`), `.hero p` (`1.04rem`), `.eyebrow` (`0.76rem`), etc. The split system is narrower than before but still present.

**Fix**: Sweep remaining hardcoded `font-size` and `padding` values in components and replace with closest token match. Low risk since the token values are defined to match the existing numbers.

### 4. Footer link sets are inconsistent across pages

| Page | Footer links |
|------|-------------|
| Home | Verify, API, Vision, Challenge, llms.txt |
| Verify | Home, API, Vision, llms.txt |
| Vision | Home, Verify, API, llms.txt |
| API | Verify, Vision, llms.txt |
| Challenge | Verify, API, Vision, llms.txt |

API and Challenge footers are missing "Home." Only the homepage footer links to Challenge. The footer should offer a consistent set of cross-links on every page.

**Fix**: Standardize footer links to: Home, Verify, API, Vision, Challenge, llms.txt on every page (except replace "Home" with nothing on the homepage itself, since you're already there).

### 5. API page not reachable from nav

The nav standardization to Home / Verify / Vision dropped the API page from all navigation. The API page is only discoverable from footer links. For the "operator-first" audience the copy system targets, the API page is a primary destination.

**Fix**: Consider adding API to the nav on all pages (Home / Verify / API / Vision — 4 items), or at minimum on the homepage and verify page where operators are most likely to land.

### 6. Confirm OG PNG is a valid raster image

The `<meta>` tags point to `/og-image.png`. Social platforms reject SVG. Need to confirm the PNG is actually a raster file generated from the SVG, not an empty placeholder.

**Fix**: Verify `file og-image.png` returns a PNG raster and the dimensions are 1200x630.

---

## What's Working Well

1. **XSS is fully resolved** — `escapeHtml()` added to scripts.js shared scope, `safeHttpUrl()` sanitizes href values, link text and share text set via `.textContent` (DOM-safe), error messages escaped. Both challenge verification and prompt-to-badge result paths are clean.

2. **H1 renders correctly** — `max-width: 22ch` (desktop) and `20ch` (mobile) allow the three-clause headline to breathe without collapsing into a narrow stack.

3. **Challenge page now matches verify page fidelity** — `runChallengeVerification()` renders the full Structure/Issuer/Signature ladder with `ladderRow()` and `statusPill()` helpers. The challenge result is no longer sparser than the verify page result.

4. **Nav is consistent** — All five pages show Home / Verify / Vision. No more orphaned anchor links or GitHub-only items.

5. **Quickstart sequences are aligned** — Both homepage and API page start with `POST /public/api/issuers/verify`. The trust-write example uses the public (no-key) endpoint.

6. **For issuers / For verifiers persona cards are back** — "Who this serves" section with distinct CTAs for each audience. Issuers get "Try issuer flow" + "See API steps"; verifiers get "Open verifier" + "Run challenge."

7. **Copy headers are de-jargoned** — "How to issue your own" (was "Conversion path"), "How issuer identity works" (was "Trust identity rules").

8. **API differentiation section restored** — SSRF hardening, domain verification flow, and agent-native ops cards are back on api.html, clearly distinguishing this implementation from generic badge platforms.

9. **Card hover states work** — `--shadow-lifted` is now applied to `.card:hover`, `.api-group:hover`, and `.hero-proof-card:hover` with a subtle `translateY(-2px)` lift. Cards feel interactive.

10. **Light copy button variant exists** — `.copy-btn-light` is defined in styles.css and used on the challenge page share section and prompt-to-badge result. No more dark-on-light visual mismatch.

11. **Two-state trust model, domain-first identity, caveat banners, example.com DEMO labels** — all continue to work correctly across every page and flow.

---

## Summary: Remaining Fixes

| Priority | Issue | Fix |
|----------|-------|-----|
| **P2** | #1 — Two consecutive `section-muted` on homepage | Remove `section-muted` from the Step 0 / challenge-grid section |
| **P2** | #2 — Three consecutive unstyled sections on vision page | Add `section-muted` to "Now, next, later" section |
| **P3** | #3 — Design tokens partially migrated (~20 hardcoded font-sizes remain) | Replace with closest token match |
| **P3** | #4 — Footer links inconsistent across pages | Standardize footer link set |
| **P3** | #5 — API page not in nav | Add API to nav or accept footer-only discoverability |
| **P3** | #6 — OG PNG needs manual validation | Verify file is raster PNG at 1200x630 |
